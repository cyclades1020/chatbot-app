# RAG 回答規則文件

## 規則格式說明

請使用以下格式描述您的 RAG 回答規則：

```
## 規則編號：規則名稱

**觸發條件：**
- 條件 1
- 條件 2

**執行邏輯：**
1. 步驟 1
2. 步驟 2

**回應內容：**
- 情況 A：回應內容 A
- 情況 B：回應內容 B

**例外處理：**
- 例外情況：處理方式
```

## 範例規則

### 規則 1：知識庫優先回答

**觸發條件：**
- 知識庫有內容
- 使用者提出問題

**執行邏輯：**
1. 先從 `backend/data/knowledge_base.txt` 檢索相關內容
2. 如果找到相關內容（相關性分數 > 0），使用知識庫內容回答
3. 如果找不到相關內容（相關性分數 = 0），執行例外處理

**回應內容：**
- 找到相關內容：基於知識庫內容回答
- 找不到相關內容：回應「不好意思，您的問題我們需要一些時間確認後再回覆您，請您稍等。」

**例外處理：**
- 如果知識庫為空：回應「不好意思，您的問題我們需要一些時間確認後再回覆您，請您稍等。」

---

## 您的規則（範例）

### 規則 1：嚴格知識庫回答

**觸發條件：**
- 知識庫有內容（`knowledge_base.txt` 不為空）

**執行邏輯：**
1. 一定先從 `backend/data/knowledge_base.txt` 檢索相關內容
2. 如果關鍵字無法觸發從資料庫中取得答案（相關性分數 = 0 或找不到相關區塊）
3. 則需要回應：「不好意思，您的問題我們需要一些時間確認後再回覆您，請您稍等。」

**回應內容：**
- 找到相關內容：基於知識庫內容回答
- 找不到相關內容：回應「不好意思，您的問題我們需要一些時間確認後再回覆您，請您稍等。」

**例外處理：**
- 知識庫為空：回應「不好意思，您的問題我們需要一些時間確認後再回覆您，請您稍等。」

---

## 如何填寫規則

請按照以下格式填寫您的規則：

```markdown
### 規則 X：規則名稱

**觸發條件：**
- [描述什麼情況下觸發這個規則]

**執行邏輯：**
1. [第一步要做什麼]
2. [第二步要做什麼]
3. [第三步要做什麼]

**回應內容：**
- 情況 A：[回應內容 A]
- 情況 B：[回應內容 B]

**例外處理：**
- 例外情況：[處理方式]

**其他說明：**
- [任何其他需要注意的事項]
```

